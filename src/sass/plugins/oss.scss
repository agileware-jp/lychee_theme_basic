@layer components {
  // OSS対応
  // Redmine Banner
  // NOTE: メインメニューのサイドバー化の影響で、bannerがメインメニューと重なってしまう
  //       メインメニューのあり／なしでスタイルを変える
  //       プロレポや全画面表示など、見かけ上ではメインメニューが存在しないが、非表示になっているだけのページが存在するので注意
  .has-main-menu #wrapper .global_banner {
    @apply ml-52
  }

  // メインメニューを閉じたときの対応
  #wrapper.isMainMenuClose .global_banner {
    @apply ml-[4rem]
  }

  // メインメニューを非表示にしているLycheeプラグインの画面対応
  .controller-resource_management #wrapper .global_banner,
  .controller-project_report_overview #wrapper .global_banner,
  .controller-lychee_work_plan #wrapper .global_banner,
  .controller-time_management #wrapper .global_banner,
  .controller-lychee_message_box_informations #wrapper .global_banner,
  .controller-lychee_message_box_my_boxes #wrapper .global_banner,
  .controller-lychee_message_box_system_errors #wrapper .global_banner,
  .lgc-is-fullscreen #wrapper .global_banner,
  .task-kanban-is-fullscreen #wrapper .global_banner {
    @apply ml-0
  }

  @media screen and (max-width: 1250px) {
    .has-main-menu #wrapper .global_banner {
      @apply ml-44
    }

    // メインメニューを閉じたときの対応
    #wrapper.isMainMenuClose .global_banner {
      @apply ml-20
    }

    // メインメニューを非表示にしているLycheeプラグインの画面対応
    .controller-resource_management #wrapper .global_banner,
    .controller-project_report_overview #wrapper .global_banner,
    .controller-lychee_work_plan #wrapper .global_banner,
    .controller-time_management #wrapper .global_banner,
    .controller-lychee_message_box_informations #wrapper .global_banner,
    .controller-lychee_message_box_my_boxes #wrapper .global_banner,
    .controller-lychee_message_box_system_errors #wrapper .global_banner,
    .lgc-is-fullscreen #wrapper .global_banner,
    .task-kanban-is-fullscreen #wrapper .global_banner {
      @apply ml-0
    }
  }

  @media screen and (max-width: 899px) {
    .has-main-menu #wrapper .global_banner {
      @apply ml-0
    }

    // メインメニューを閉じたときの対応
    #wrapper.isMainMenuClose .global_banner {
      @apply ml-0
    }

    // メインメニューを非表示にしているLycheeプラグインの画面対応
    .controller-resource_management #wrapper .global_banner,
    .controller-project_report_overview #wrapper .global_banner,
    .controller-lychee_work_plan #wrapper .global_banner,
    .controller-time_management #wrapper .global_banner,
    .controller-lychee_message_box_informations #wrapper .global_banner,
    .controller-lychee_message_box_my_boxes #wrapper .global_banner,
    .controller-lychee_message_box_system_errors #wrapper .global_banner,
    .lgc-is-fullscreen #wrapper .global_banner,
    .task-kanban-is-fullscreen #wrapper .global_banner {
      @apply ml-0
    }
  }


  // View Customize
  .controller-view_customizes {
    table.view_customize.box th {
      @apply pl-3
    }

    table.view_customize.box td {
      @apply pr-3
    }

    table.view_customize.box tr:first-child th,
    table.view_customize.box tr:first-child td {
      @apply pt-4
    }

    table.view_customize.box tr:last-child th,
    table.view_customize.box tr:last-child td {
      @apply pb-4
    }
  }


  // Issue Templates
  #orphaned_templates h3.template_tracker {
    @apply mt-4
  }

  #global_issue_template-form .box fieldset.issue,
  #global_note_template-form .box fieldset.issue,
  #issue_template-form .box fieldset.issue {
    @apply p-2
  }

  #global_issue_template-form #global_issue_template_issue_title + a.icon-help.template-help,
  #issue_template-form #issue_template_issue_title + a.icon-help.template-help {
    @apply block mt-1
  }

  #global_issue_template-form #global_issue_template_issue_title + a.icon-help.template-help #issue_title_help_area,
  #issue_template-form #issue_template_issue_title +  a.icon-help.template-help #issue_title_help_area {
    @apply z-[1]
  }

  #global_issue_template-form,
  #global_note_template-form,
  #edit-issue_template {
    @apply clear-both mt-6
  }

  #global_issue_template_project_ids.box,
  #global_note_template_project_ids.box {
    @apply border-0 mb-0 p-0
  }

  #global_issue_template_project_ids #all_projects legend,
  #global_note_template_project_ids #all_projects legend {
    @apply mt-2
  }

  #edit-note_template {
    @apply clear-both mt-6
  }

  .controller-note_templates .contextual.note_templates {
    @apply mb-1
  }

  #note_template-form .box fieldset.issue {
    @apply p-2
  }

  #global_issue_template-form #json_generator,
  #issue_template-form #json_generator {
    @apply mt-2
  }

  #global_issue_template-form #fields_setting_display_area .json-list,
  #issue_template-form #fields_setting_display_area .json-list {
    @apply my-2
  }

  #global_issue_template-form #field_information,
  #issue_template-form #field_information {
    @apply mt-2
  }

  // settings
  .controller-issue_templates_settings {
    .template_box {
      @apply bg-background-primary border-border-divider mb-6 p-4 rounded-md
    }
  }

  .new_issue #template_area > p,
  .edit_issue #template_area > p {
    @apply mt-2
  }

  #add_notes #template_issue_notes {
    @apply mb-2
  }
}