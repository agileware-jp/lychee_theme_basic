@layer components {
  .theme-Lychee {
    // Profile Icon
    #attachments_form.lychee_profile_icon .preview-avatar {
      @apply mr-2
    }

    #attachments_form.lychee_profile_icon .add_attachment {
      @apply inline-flex flex-col
    }

    #attachments_form.lychee_profile_icon .add_attachment input[type="file"] {
      @apply w-full
    }


    // Cost
    .lychee-cost-cash-forecast__unit-description {
      @apply top-4 right-4
    }


    // Message Box
    #top-menu .lychee-message-box-icon {
      background-image: url(images/mail_dark.svg);
      @apply block w-5 h-5 bg-[length:20px]
    }

    #top-menu .lychee-message-box-icon.unread {
      background-image: url(images/mail_unread_dark.svg);
    }

    #top-menu .lychee-message-box-icon::before {
      content: none;
      @apply m-0
    }


    // Lychee Project View?
    #favorite-project-wrapper > h3 {
      @apply mt-4
    }

    .favorite-project-container {
      @apply w-full
    }

    h3 .tree-expander-expanded, table.favorite-projects tr.project td.name .tree-expander-expanded {
      background-image: url(images/expand_more_default.svg);
    }

    h3 .tree-expander-collapsed, table.favorite-projects tr.project td.name .tree-expander-collapsed {
      background-image: url(images/chevron_right_default.svg);
    }

    #favorite-project-wrapper + #query_form h2 {
      @apply text-base text-text-default font-bold mt-3 mb-2 p-0
    }


    // Lychee Actual Date
    #actual_dates_area {
      @apply mt-4
    }
  }


  // LRM
  .theme-Lychee.controller-resource_management {
    #main {
      @apply ml-0
    }

    .lrm-table .header-row th,
    .lrm-table tbody th {
      border-top: 1px solid gray;
    }

    .lrm-table .header-row th:not(:first-child) {
      border-right: 1px solid gray;
    }

    .lrm-table tbody td {
      border-top: 1px solid gray;
      border-right: 1px solid gray;
    }
  }


  // LPR 共通
  .theme-Lychee.controller-project_report_overview {
    #main {
      @apply ml-0
    }

    #setting_buttons a ~ a {
      @apply ml-2
    }

    #project_report_windowed_buttons span ~ span {
      @apply ml-2
    }

    #project_report_full_screen_buttons span ~ span {
      @apply ml-2
    }

    #icon-full-screen {
      @apply text-text-link
    }

    .icon-setting {
      background-image: url(images/settings_default.svg);
    }

    .icon-full-screen-start {
      background-image: url(images/fullscreen_success.svg);
    }

    .icon-full-screen-exit {
      background-image: url(images/close_fullscreen_default.svg);
    }
  }

  // LPR 固有
  .theme-Lychee.controller-project_reports {
    #project-report a.icon-settings,
    #project-report a.icon-del,
    #project-report a.icon-copy,
    #project-report a.icon-add {
      @apply ml-3
    }

    // 各パネルの編集／セッティング／閉じるアイコン用（パネル内の別要素への影響がないかチェック）
    #content span span {
      @apply ml-1
    }
  }


  // Lychee Work Plan
  .theme-Lychee.controller-lychee_work_plan {
    #main {
      @apply ml-0
    }
  }


  // Lychee Time Management
  .theme-Lychee.controller-time_management {
    #main {
      @apply ml-0
    }
  }


  // Lychee ステータスカラー
  .theme-Lychee.controller-issue_statuses.action-index td.name {
    display: revert;
  }

  // Lychee Kanban
  .theme-Lychee.controller-kanban {
    select, input {
      @apply h-auto
    }

    #content .tabs {
      @apply mb-1
    }

    .task-kanban-icon-fullscreen__start {
      background-image: url(images/fullscreen_success.svg);
    }

    .task-kanban-icon-fullscreen__exit {
      background-image: url(images/close_fullscreen_default.svg);
    }

    #burn_down_type_wrap {
      @apply static mt-2
    }
  }

  .theme-Lychee.controller-projects {
    #kanban.collapsible {
      @apply mb-6
    }

    #kanban.collapsible > legend, #backlog > legend {
      @apply mb-4
    }

    #kanban.collapsible input[type="checkbox"] {
      @apply mr-1
    }

    #kanban.collapsible input[type="checkbox"] + label {
      @apply mr-2
    }

    #backlog.collapsible table td {
      @apply pt-3
    }

    #backlog.collapsible table tr:first-child td {
      @apply pt-0
    }

    #backlog.collapsible input[type="checkbox"] {
      @apply mr-1
    }

    #backlog.collapsible input[type="checkbox"] + label {
      @apply mr-2
    }
  }

  .task-kanban-is-fullscreen #main {
    @apply ml-0
  }

  // Lychee Backlog
  .theme-Lychee.controller-backlog {
    select, input {
      @apply h-auto
    }

    .velocity__container > div {
      @apply mt-4
    }

    .velocity__container > div input[type="number"] {
      @apply mt-2
    }

    .task-kanban-icon-fullscreen__start {
      background-image: url(images/fullscreen_success.svg);
    }

    .task-kanban-icon-fullscreen__exit {
      background-image: url(images/close_fullscreen_default.svg);
    }
  }

  // Lychee Gantt Chart
  .theme-Lychee.controller-lgc {
    .lgc-issueDetail-header {
      @apply h-auto py-2
    }
  }

  .lgc-is-fullscreen #main {
    @apply ml-0
  }

  // Lychee Cost
  .theme-Lychee.controller-lychee_cost_expenses {
    #month {
      @apply mr-1
    }

    #x_months {
      @apply w-[4.5rem] my-1
    }

    #content .total_amount {
      @apply text-sm text-left mt-2 mb-2
    }

    #content .total_amount .value {
      @apply text-xl
    }

    #lychee_cost_expense_amount {
      @apply mr-1
    }
  }

  // Lychee Issue Sets
  .theme-Lychee.theme-Lychee.controller-lychee_issue_sets {
    .issue-sets thead .checkbox + th {
      @apply text-left
    }

    .issue-sets .num-issue-templates {
      @apply w-28
    }

    .issue-sets .buttons {
      @apply w-8
    }
  }

  // Lychee Project Term
  .theme-Lychee.controller-projects {
    #lychee_project_term_controls {
      @apply mt-4
    }
  }


  // その他
  .theme-Lychee.theme-Lychee.controller-projects {
    table.list:not(.odd-even) tbody tr:nth-child(odd) td {
      @apply bg-background-primary
    }
  }
}